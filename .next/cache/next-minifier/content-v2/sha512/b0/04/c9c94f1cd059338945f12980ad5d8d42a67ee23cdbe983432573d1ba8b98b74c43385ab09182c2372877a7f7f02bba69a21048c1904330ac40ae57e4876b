{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{YFqc:function(e,t,n){e.exports=n(\"cTJO\")},Ygm3:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/post/edit/[id]\",function(){return n(\"book\")}])},book:function(e,t,n){\"use strict\";n.r(t);var r=n(\"o0o1\"),a=n.n(r),o=n(\"rePB\"),i=n(\"HaE+\"),u=n(\"ODXe\"),c=n(\"hGi/\"),l=n(\"BMxC\"),s=n(\"eJLp\"),f=n(\"KYPV\"),p=n(\"nOHt\"),d=n(\"q1tI\"),b=n.n(d),v=n(\"yS0j\"),h=n(\"soUV\"),O=n(\"pHx+\"),g=n(\"xKEG\"),m=n(\"niIi\"),y=b.a.createElement;function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=Object(m.a)({ssr:!1})((function(e){Object(c.a)(e);var t=Object(p.useRouter)(),n=Object(g.a)(),r=Object(O.i)({skip:-1===n,variables:{id:n}}),o=r.data,d=r.loading,b=Object(O.l)(),m=Object(u.a)(b,1)[0];return d?y(h.a,null,y(\"div\",null,\"loading...\")):(null===o||void 0===o?void 0:o.post)?y(h.a,{variant:\"small\"},y(f.b,{initialValues:{title:o.post.title,text:o.post.text},onSubmit:function(){var e=Object(i.a)(a.a.mark((function e(r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({variables:w({id:n},r)});case 2:t.back();case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return y(f.a,null,y(v.a,{name:\"title\",placeholder:\"title\",label:\"Title\"}),y(l.a,{mt:4},y(v.a,{textarea:!0,name:\"text\",placeholder:\"text...\",label:\"Body\"})),y(s.a,{mt:4,type:\"submit\",isLoading:t,variantColor:\"teal\"},\"update post\"))}))):y(h.a,null,y(l.a,null,\"could not find post\"))}))},cTJO:function(e,t,n){\"use strict\";var r=n(\"zoAU\"),a=n(\"7KCV\");t.__esModule=!0,t.default=void 0;var o,i=a(n(\"q1tI\")),u=n(\"g/15\"),c=n(\"nOHt\"),l=n(\"elyg\");var s=new Map,f=window.IntersectionObserver,p={};var d=function(e,t){var n=o||(f?o=new f((function(e){e.forEach((function(e){if(s.has(e.target)){var t=s.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(o.unobserve(e.target),s.delete(e.target),t())}}))}),{rootMargin:\"200px\"}):void 0);return n?(n.observe(e),s.set(e,t),function(){try{n.unobserve(e)}catch(t){console.error(t)}s.delete(e)}):function(){}};function b(e,t,n,r){e.prefetch(t,n,r).catch((function(e){0})),p[t+\"%\"+n]=!0}function v(e,t,n,r,a,o,i){var c=e.currentTarget,l=c.nodeName,s=c.target;\"A\"===l&&(s&&\"_self\"!==s||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&2===e.nativeEvent.which)||function(e){var t=(0,u.getLocationOrigin)();return new URL(e,t).origin===t}(n)&&(e.preventDefault(),null==i&&(i=r.indexOf(\"#\")<0),t[a?\"replace\":\"push\"](n,r,{shallow:o}).then((function(e){e&&i&&(window.scrollTo(0,0),document.body.focus())})))}var h=function(e){var t=!1!==e.prefetch,n=i.default.useState(),a=r(n,2),o=a[0],u=a[1],s=(0,c.useRouter)(),h=s&&s.pathname||\"/\",O=i.default.useMemo((function(){var t=(0,l.resolveHref)(h,e.href);return{href:t,as:e.as?(0,l.resolveHref)(h,e.as):t}}),[h,e.href,e.as]),g=O.href,m=O.as;i.default.useEffect((function(){if(t&&f&&o&&o.tagName&&!p[g+\"%\"+m])return d(o,(function(){b(s,g,m)}))}),[t,o,g,m,s]);var y=e.children,x=e.replace,w=e.shallow,j=e.scroll;\"string\"===typeof y&&(y=i.default.createElement(\"a\",null,y));var E=i.Children.only(y),k={ref:function(e){e&&u(e),E&&\"object\"===typeof E&&E.ref&&(\"function\"===typeof E.ref?E.ref(e):\"object\"===typeof E.ref&&(E.ref.current=e))},onClick:function(e){E.props&&\"function\"===typeof E.props.onClick&&E.props.onClick(e),e.defaultPrevented||v(e,s,g,m,x,w,j)}};return t&&(k.onMouseEnter=function(e){E.props&&\"function\"===typeof E.props.onMouseEnter&&E.props.onMouseEnter(e),b(s,g,m,{priority:!0})}),!e.passHref&&(\"a\"!==E.type||\"href\"in E.props)||(k.href=(0,l.addBasePath)(m)),i.default.cloneElement(E,k)};t.default=h},\"hGi/\":function(e,t,n){\"use strict\";function r(e){if(null==e)throw new TypeError(\"Cannot destructure undefined\")}n.d(t,\"a\",(function(){return r}))},pboS:function(e,t,n){\"use strict\";var r=n(\"pVnL\"),a=n.n(r),o=n(\"8OQS\"),i=n.n(o),u=n(\"qKvR\"),c=n(\"+Cyc\"),l=n(\"q1tI\"),s={transition:\"all 0.15s ease-out\",cursor:\"pointer\",textDecoration:\"none\",outline:\"none\",_focus:{boxShadow:\"outline\"},_disabled:{opacity:\"0.4\",cursor:\"not-allowed\",textDecoration:\"none\"}},f=Object(l.forwardRef)((function(e,t){var n=e.isDisabled,r=e.isExternal,o=e.onClick,l=i()(e,[\"isDisabled\",\"isExternal\",\"onClick\"]),f=r?{target:\"_blank\",rel:\"noopener noreferrer\"}:null;return Object(u.d)(c.a,a()({as:\"a\",ref:t,tabIndex:n?-1:void 0,\"aria-disabled\":n,onClick:n?function(e){return e.preventDefault()}:o,_hover:{textDecoration:\"underline\"}},f,s,l))}));f.displayName=\"Link\",t.a=f},qWyU:function(e,t,n){\"use strict\";var r=n(\"pVnL\"),a=n.n(r),o=n(\"8OQS\"),i=n.n(o),u=n(\"qKvR\"),c=n(\"BMxC\"),l=n(\"q1tI\"),s={\"2xl\":[\"4xl\",null,\"5xl\"],xl:[\"3xl\",null,\"4xl\"],lg:[\"xl\",null,\"2xl\"],md:\"xl\",sm:\"md\",xs:\"sm\"},f=Object(l.forwardRef)((function(e,t){var n=e.size,r=void 0===n?\"xl\":n,o=i()(e,[\"size\"]);return Object(u.d)(c.a,a()({ref:t,as:\"h2\",fontSize:s[r],lineHeight:\"shorter\",fontWeight:\"bold\",fontFamily:\"heading\"},o))}));f.displayName=\"Heading\",t.a=f},soUV:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return E}));var r=n(\"q1tI\"),a=n.n(r),o=n(\"uHth\"),i=n(\"o0o1\"),u=n.n(i),c=n(\"HaE+\"),l=n(\"ODXe\"),s=n(\"hGi/\"),f=n(\"pboS\"),p=n(\"Weur\"),d=n(\"eJLp\"),b=n(\"BMxC\"),v=n(\"qWyU\"),h=n(\"YFqc\"),O=n.n(h),g=n(\"pHx+\"),m=n(\"nOHt\"),y=n(\"VX74\"),x=a.a.createElement,w=function(e){Object(s.a)(e);Object(m.useRouter)();var t=Object(g.g)(),n=Object(l.a)(t,2),r=n[0],o=n[1].loading,i=Object(y.useApolloClient)(),h=Object(g.h)({skip:!1}),w=h.data,j=null;return h.loading||(j=(null===w||void 0===w?void 0:w.me)?x(p.a,{align:\"center\"},x(O.a,{href:\"/create-post\"},x(d.a,{as:f.a,mr:4},\"create post\")),x(b.a,{mr:2},w.me.username),x(d.a,{onClick:Object(c.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.next=4,i.resetStore();case 4:case\"end\":return e.stop()}}),e)}))),isLoading:o,variant:\"link\"},\"logout\")):x(a.a.Fragment,null,x(O.a,{href:\"/login\"},x(f.a,{mr:2},\"login\")),x(O.a,{href:\"/register\"},x(f.a,null,\"register\")))),x(p.a,{zIndex:1,position:\"sticky\",top:0,bg:\"tan\",p:4},x(p.a,{flex:1,m:\"auto\",align:\"center\",maxW:800},x(O.a,{href:\"/\"},x(f.a,null,x(v.a,null,\"LiReddit\"))),x(b.a,{ml:\"auto\"},j)))},j=a.a.createElement,E=function(e){var t=e.children,n=e.variant;return j(a.a.Fragment,null,j(w,null),j(o.a,{variant:n},t))}},xKEG:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(\"nOHt\"),a=function(){var e=Object(r.useRouter)();return\"string\"===typeof e.query.id?parseInt(e.query.id):-1}}},[[\"Ygm3\",2,1,0,4,3,5,6]]]);","extractedComments":[]}