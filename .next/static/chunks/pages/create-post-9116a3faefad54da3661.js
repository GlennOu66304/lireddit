_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{"81Ba":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-post",function(){return n("i48n")}])},YFqc:function(e,t,n){e.exports=n("cTJO")},cTJO:function(e,t,n){"use strict";var r=n("zoAU"),a=n("7KCV");t.__esModule=!0,t.default=void 0;var o,i=a(n("q1tI")),u=n("g/15"),c=n("nOHt"),l=n("elyg");var s=new Map,f=window.IntersectionObserver,p={};var d=function(e,t){var n=o||(f?o=new f((function(e){e.forEach((function(e){if(s.has(e.target)){var t=s.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(o.unobserve(e.target),s.delete(e.target),t())}}))}),{rootMargin:"200px"}):void 0);return n?(n.observe(e),s.set(e,t),function(){try{n.unobserve(e)}catch(t){console.error(t)}s.delete(e)}):function(){}};function v(e,t,n,r){e.prefetch(t,n,r).catch((function(e){0})),p[t+"%"+n]=!0}function h(e,t,n,r,a,o,i){var c=e.currentTarget,l=c.nodeName,s=c.target;"A"===l&&(s&&"_self"!==s||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&2===e.nativeEvent.which)||function(e){var t=(0,u.getLocationOrigin)();return new URL(e,t).origin===t}(n)&&(e.preventDefault(),null==i&&(i=r.indexOf("#")<0),t[a?"replace":"push"](n,r,{shallow:o}).then((function(e){e&&i&&(window.scrollTo(0,0),document.body.focus())})))}var b=function(e){var t=!1!==e.prefetch,n=i.default.useState(),a=r(n,2),o=a[0],u=a[1],s=(0,c.useRouter)(),b=s&&s.pathname||"/",m=i.default.useMemo((function(){var t=(0,l.resolveHref)(b,e.href);return{href:t,as:e.as?(0,l.resolveHref)(b,e.as):t}}),[b,e.href,e.as]),g=m.href,x=m.as;i.default.useEffect((function(){if(t&&f&&o&&o.tagName&&!p[g+"%"+x])return d(o,(function(){v(s,g,x)}))}),[t,o,g,x,s]);var O=e.children,w=e.replace,y=e.shallow,j=e.scroll;"string"===typeof O&&(O=i.default.createElement("a",null,O));var E=i.Children.only(O),_={ref:function(e){e&&u(e),E&&"object"===typeof E&&E.ref&&("function"===typeof E.ref?E.ref(e):"object"===typeof E.ref&&(E.ref.current=e))},onClick:function(e){E.props&&"function"===typeof E.props.onClick&&E.props.onClick(e),e.defaultPrevented||h(e,s,g,x,w,y,j)}};return t&&(_.onMouseEnter=function(e){E.props&&"function"===typeof E.props.onMouseEnter&&E.props.onMouseEnter(e),v(s,g,x,{priority:!0})}),!e.passHref&&("a"!==E.type||"href"in E.props)||(_.href=(0,l.addBasePath)(x)),i.default.cloneElement(E,_)};t.default=b},"hGi/":function(e,t,n){"use strict";function r(e){if(null==e)throw new TypeError("Cannot destructure undefined")}n.d(t,"a",(function(){return r}))},i48n:function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),a=n.n(r),o=n("HaE+"),i=n("ODXe"),u=n("hGi/"),c=n("BMxC"),l=n("eJLp"),s=n("KYPV"),f=n("nOHt"),p=n("q1tI"),d=n.n(p),v=n("yS0j"),h=n("soUV"),b=n("pHx+"),m=n("niIi"),g=d.a.createElement;t.default=Object(m.a)({ssr:!1})((function(e){Object(u.a)(e);var t=Object(f.useRouter)();!function(){var e=Object(b.h)(),t=e.data,n=e.loading,r=Object(f.useRouter)();Object(p.useEffect)((function(){n||(null===t||void 0===t?void 0:t.me)||r.replace("/login?next="+r.pathname)}),[n,t,r])}();var n=Object(b.c)(),r=Object(i.a)(n,1)[0];return g(h.a,{variant:"small"},g(s.b,{initialValues:{title:"",text:""},onSubmit:function(){var e=Object(o.a)(a.a.mark((function e(n){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({variables:{input:n},update:function(e){e.evict({fieldName:"posts:{}"})}});case 2:o=e.sent,o.errors||t.push("/");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return g(s.a,null,g(v.a,{name:"title",placeholder:"title",label:"Title"}),g(c.a,{mt:4},g(v.a,{textarea:!0,name:"text",placeholder:"text...",label:"Body"})),g(l.a,{mt:4,type:"submit",isLoading:t,variantColor:"teal"},"create post"))})))}))},pboS:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("8OQS"),i=n.n(o),u=n("qKvR"),c=n("+Cyc"),l=n("q1tI"),s={transition:"all 0.15s ease-out",cursor:"pointer",textDecoration:"none",outline:"none",_focus:{boxShadow:"outline"},_disabled:{opacity:"0.4",cursor:"not-allowed",textDecoration:"none"}},f=Object(l.forwardRef)((function(e,t){var n=e.isDisabled,r=e.isExternal,o=e.onClick,l=i()(e,["isDisabled","isExternal","onClick"]),f=r?{target:"_blank",rel:"noopener noreferrer"}:null;return Object(u.d)(c.a,a()({as:"a",ref:t,tabIndex:n?-1:void 0,"aria-disabled":n,onClick:n?function(e){return e.preventDefault()}:o,_hover:{textDecoration:"underline"}},f,s,l))}));f.displayName="Link",t.a=f},qWyU:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("8OQS"),i=n.n(o),u=n("qKvR"),c=n("BMxC"),l=n("q1tI"),s={"2xl":["4xl",null,"5xl"],xl:["3xl",null,"4xl"],lg:["xl",null,"2xl"],md:"xl",sm:"md",xs:"sm"},f=Object(l.forwardRef)((function(e,t){var n=e.size,r=void 0===n?"xl":n,o=i()(e,["size"]);return Object(u.d)(c.a,a()({ref:t,as:"h2",fontSize:s[r],lineHeight:"shorter",fontWeight:"bold",fontFamily:"heading"},o))}));f.displayName="Heading",t.a=f},soUV:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("q1tI"),a=n.n(r),o=n("uHth"),i=n("o0o1"),u=n.n(i),c=n("HaE+"),l=n("ODXe"),s=n("hGi/"),f=n("pboS"),p=n("Weur"),d=n("eJLp"),v=n("BMxC"),h=n("qWyU"),b=n("YFqc"),m=n.n(b),g=n("pHx+"),x=n("nOHt"),O=n("VX74"),w=a.a.createElement,y=function(e){Object(s.a)(e);Object(x.useRouter)();var t=Object(g.g)(),n=Object(l.a)(t,2),r=n[0],o=n[1].loading,i=Object(O.useApolloClient)(),b=Object(g.h)({skip:!1}),y=b.data,j=null;return b.loading||(j=(null===y||void 0===y?void 0:y.me)?w(p.a,{align:"center"},w(m.a,{href:"/create-post"},w(d.a,{as:f.a,mr:4},"create post")),w(v.a,{mr:2},y.me.username),w(d.a,{onClick:Object(c.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.next=4,i.resetStore();case 4:case"end":return e.stop()}}),e)}))),isLoading:o,variant:"link"},"logout")):w(a.a.Fragment,null,w(m.a,{href:"/login"},w(f.a,{mr:2},"login")),w(m.a,{href:"/register"},w(f.a,null,"register")))),w(p.a,{zIndex:1,position:"sticky",top:0,bg:"tan",p:4},w(p.a,{flex:1,m:"auto",align:"center",maxW:800},w(m.a,{href:"/"},w(f.a,null,w(h.a,null,"LiReddit"))),w(v.a,{ml:"auto"},j)))},j=a.a.createElement,E=function(e){var t=e.children,n=e.variant;return j(a.a.Fragment,null,j(y,null),j(o.a,{variant:n},t))}}},[["81Ba",2,1,0,4,3,5,6]]]);